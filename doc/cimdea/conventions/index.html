<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This module provides structs and methods for loading metadata and storing information about a IPUMS data collection based on conventions and minimal configuration. Every collection has a set of data record types and a hierarchy those records belong to: For instance, person records belong to household records."><title>cimdea::conventions - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-ac92e1bbe349e143.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="cimdea" data-themes="" data-resource-suffix="" data-rustdoc-version="1.76.0 (07dca489a 2024-02-04)" data-channel="1.76.0" data-search-js="search-2b6ce74ff89ae146.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-f2adc0d6ca4d09fb.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-305769736d49e732.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-feafe1bb7466e4bd.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../cimdea/index.html">cimdea</a><span class="version">0.1.0</span></h2></div><h2 class="location"><a href="#">Module conventions</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li></ul></section><h2><a href="../index.html">In crate cimdea</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../cimdea/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">cimdea</a>::<wbr><a class="mod" href="#">conventions</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/cimdea/conventions.rs.html#1-384">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This module provides structs and methods for loading metadata and storing information about a IPUMS data
collection based on conventions and minimal configuration. Every collection has a set of data record types
and a hierarchy those records belong to: For instance, person records belong to household records.</p>
<p>The <code>MicroDataCollection</code> struct initialization  makes heavy use of IPUMS directory and naming conventions.
This includes loading IPUMS metadata for the collection.</p>
<p>The <code>Context</code> struct is the entry point for setting up a MicroDataCollection object. It will figure out a “data root”
or use one provided to it to locate available data and metadata and load it if requested.</p>
<p>Other operations in this library will require a context object to find data and use metadata.</p>
<p>Metadata for IPUMS data follows naming and organizational conventions. Following these
allows us to skip a lot of repetitive configuration. IPUMS data resides under “data root” directories in a “current”
directory (compressed fixed-width data) and under “current” in a “parquet” directory for the
Parquet version of the same data. A “layouts” directory under “current” contains two “layout” files per dataset: One
describing the input layout and labels for those inputs, and one describing the IPUMS version of the data with variable
names, record types, data types and designated width in printable characters for the variables. This layout information
can serve as basic metadata for other uses besides parsing the fixed-width data. Currently the Parquet data doesn’t have
variable level metadata on its columns, so we rely on the layout metadata. Eventually we plan to put variable metadata like
formatting directives, codes and labels in the Parquet.</p>
<p>See the <code>.layout.txt</code> files in the test directory.</p>
</div></details><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Context.html" title="struct cimdea::conventions::Context">Context</a></div><div class="desc docblock-short">This is the mutable state  created and passed around holding the loaded metadata if any
and the rest of the information needed to add paths to the data tables used in queries
and data file paths, and where the metadata can be found.</div></li><li><div class="item-name"><a class="struct" href="struct.DatasetsForVariable.html" title="struct cimdea::conventions::DatasetsForVariable">DatasetsForVariable</a></div></li><li><div class="item-name"><a class="struct" href="struct.MetadataEntities.html" title="struct cimdea::conventions::MetadataEntities">MetadataEntities</a></div></li><li><div class="item-name"><a class="struct" href="struct.MicroDataCollection.html" title="struct cimdea::conventions::MicroDataCollection">MicroDataCollection</a></div><div class="desc docblock-short">Key characteristics of collections like all USA Census data, all Time-Use Survey data etc.</div></li><li><div class="item-name"><a class="struct" href="struct.VariablesForDataset.html" title="struct cimdea::conventions::VariablesForDataset">VariablesForDataset</a></div><div class="desc docblock-short">There is a master Vec with Variables by IpumsVariableId this structure points into.</div></li></ul></section></div></main></body></html>