<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The “metadata” models serve to assist working with IPUMS data. The entities here match the full IPUMS metadata in terms of their relationships to one another and their description of the data."><title>cimdea::ipums_metadata_model - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="cimdea" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0 (f6e511eec 2024-10-15)" data-channel="1.82.0" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../cimdea/index.html">cimdea</a><span class="version">0.2.0</span></h2></div><h2 class="location"><a href="#">Module ipums_<wbr>metadata_<wbr>model</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#types">Type Aliases</a></li></ul></section><h2><a href="../index.html">In crate cimdea</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">cimdea</a>::<wbr><a class="mod" href="#">ipums_metadata_model</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/cimdea/ipums_metadata_model.rs.html#1-279">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The “metadata” models serve to assist working with IPUMS data. The entities here match the full IPUMS metadata in terms
of their relationships to one another and their description of the data.</p>
<p>However they don’t include (1) all fields / pieces
of info from the full IPUMS metadata; and (2) do not contain all metadata models – only those essential for understanding
the data files on a technical level. For instance there are no enumeration text or citations metadata modeled here.</p>
<p>In addition, these models are intended to support working with data in a “low”, “medium” or full metadata environment, hence
the numerous fields of Option type. Essential operations must mostly be possible with None values of these fields.</p>
<h3 id="low-metadata-environment"><a class="doc-anchor" href="#low-metadata-environment">§</a>Low metadata environment</h3>
<p>We must have a path to an IPUMS data file. The file is conventionally named i.e. <code>us2019a_usa.data.gz</code>
or <code>parquet/us2019a/*.parquet</code>. IPUMS data is stored in multiple parquet datasets, one per record type within a directory
named after the IPUMS dataset. The project can be known from context or from the individual parquet files with the<code>_usa</code>
(for instance) part of the name. For fixed-width compressed data all record types are in a single file; the dataset name is
the first part of the file name and the project once again is from context or the <code>_usa</code>-like part of the name.
Variable names and which variables belong to which dataset are either determined by the parquet schema or the fixed-width
layout file which is always in a <code>layouts/</code> subdirectory under the directory with the fixed-width data. Layout files look
like <code>layouts/us2019a.layout.txt</code>.
*/
This is enough information to know the data types of IPUMS variables, and what variables belong to what dataset and what
their record types are.</p>
<h3 id="medium-metadata"><a class="doc-anchor" href="#medium-metadata">§</a>Medium Metadata</h3>
<p>This is achieved either by some access to a metadata database, or extended metadata stored in the Parquet key-value metadata.</p>
<p>Metadata can come from a database  for which the schema is known (there is a “raw export” schema, and a fully normalized and
cleaned schema that drives the IPUMS websites at IPUMS.) Or metadata in the future may come from Parquet
key-value file metadata.</p>
<p>The extended key-value metadata is under development currently. At the least, there will be variable labels (short descriptions),
metadata version and data versions (for archival / reproducibility purposes). It’s also possible variable category (value)
labels may be included. These would be used with the understanding that they represent the labels at the time of data creation
and can’t reflect the latest public revisions to IPUMS metadata. Additionally, relationships to “flag” (data quality) variables,
extended weight variables may be included as well. While the metadata may not be suitable for a live documentation or extraction
service they can be extremely useful for building simplified tools that require this core metadata.</p>
<h3 id="full-metadata"><a class="doc-anchor" href="#full-metadata">§</a>Full Metadata</h3>
<p>Full metadata requires access to the IPUMS metadata and some modeling of all the entities. Full access would allow populating
every field in these models and would allow mmodeling much more than this module currently does. Full metadata won’t be required
for any main operations in this library but would enable access to the most up-to-date versions of documentation-like
information such as variable and value labels.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.IpumsCategory.html" title="struct cimdea::ipums_metadata_model::IpumsCategory">Ipums<wbr>Category</a></div></li><li><div class="item-name"><a class="struct" href="struct.IpumsDataset.html" title="struct cimdea::ipums_metadata_model::IpumsDataset">Ipums<wbr>Dataset</a></div></li><li><div class="item-name"><a class="struct" href="struct.IpumsVariable.html" title="struct cimdea::ipums_metadata_model::IpumsVariable">Ipums<wbr>Variable</a></div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.IpumsDataType.html" title="enum cimdea::ipums_metadata_model::IpumsDataType">Ipums<wbr>Data<wbr>Type</a></div></li><li><div class="item-name"><a class="enum" href="enum.IpumsValue.html" title="enum cimdea::ipums_metadata_model::IpumsValue">Ipums<wbr>Value</a></div></li><li><div class="item-name"><a class="enum" href="enum.UniversalCategoryType.html" title="enum cimdea::ipums_metadata_model::UniversalCategoryType">Universal<wbr>Category<wbr>Type</a></div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.IpumsDatasetId.html" title="type cimdea::ipums_metadata_model::IpumsDatasetId">Ipums<wbr>Dataset<wbr>Id</a></div></li><li><div class="item-name"><a class="type" href="type.IpumsVariableId.html" title="type cimdea::ipums_metadata_model::IpumsVariableId">Ipums<wbr>Variable<wbr>Id</a></div></li></ul></section></div></main></body></html>